---
slug: mongodb-3
title: MongoDBå­¸ç¿’ç­†è¨˜ - MongoDB Shell - æœå°‹èªæ³•
authors:
name: Justin
url: https://github.com/justin3737
image_url: https://avatars.githubusercontent.com/u/3293292?s=400&u=38043a6390fdf82e3a2058d5a76e44345f8f6327&v=4
tags:
  [
    "mongodb",
    "js",
    "node.js",
    "javascript",
    "back-end",
    "å¾Œç«¯",
    "database",
    "db",
    "Jamstack",
  ]
---

> é€™è£¡è¨˜éŒ„äº†ä½¿ç”¨ MongoDB ä½œç‚ºè³‡æ–™åº«ï¼Œèˆ‡é›²ç«¯ MongoDB Atlas æ“ä½œè¨˜éŒ„ï¼Œåœ¨ Jamstack çš„æ™‚ä»£ï¼ŒMongodb æ˜¯éå¸¸æ™®éä¸”ä¸»æµçš„åšæ³•ä¹‹ä¸€ã€‚

- Shell èªæ³•ä¸»è¦ç”¨æ–¼çµ‚ç«¯æ©Ÿçš„æ“ä½œ
- é€é MongoDB shell èªæ³•å»æ“ä½œ MongoDB Server
- MongoDB ç‰ˆæœ¬ 5.0
- ğŸ‘‰Â [å®˜ç¶²ç¯„ä¾‹](https://www.mongodb.com/docs/manual/crud/)

![](/img/docs/mongodb/mongodb-3/2022-03-31_1.png)

---

### é¡¯ç¤ºè³‡æ–™åº«

```bash
> show dbs
admin   0.000GB
config  0.000GB
local   0.000GB
```

---

### åˆ‡æ›è³‡æ–™åº«

```bash
> use [è³‡æ–™åº«åç¨±]
switched to db [è³‡æ–™åº«åç¨±]
```

---

### æ’å…¥ä¸€ç­†/å¤šç­†è³‡æ–™

- [db.collection.insertOne()](https://www.mongodb.com/docs/manual/reference/method/db.collection.insertOne/#mongodb-method-db.collection.insertOne)
- [db.collection.insertMany()](https://www.mongodb.com/docs/manual/reference/method/db.collection.insertMany/#mongodb-method-db.collection.insertMany)

```bash
> db.rooms.insertOne({"rating":4.5,"price":1000,"name":"æ¨™æº–å–®äººæˆ¿"})
{
	"acknowledged" : true,
	"insertedId" : ObjectId("62452ea200215a13d32151f4")
}
```

ä½¿ç”¨ Compass GUI æŸ¥çœ‹æœ¬åœ°ç«¯ DB

![](/img/docs/mongodb/mongodb-3/2022-03-31_2.png)

---

### æ›´æ–°èˆ‡å–ä»£

- [db.collection.updateOne()](https://www.mongodb.com/docs/manual/reference/method/db.collection.updateOne/#mongodb-method-db.collection.updateOne)
- [db.collection.updateMany()](https://www.mongodb.com/docs/manual/reference/method/db.collection.updateMany/#mongodb-method-db.collection.updateMany)
- [db.collection.replaceOne()](https://www.mongodb.com/docs/manual/reference/method/db.collection.replaceOne/#mongodb-method-db.collection.replaceOne)

```bash
> db.rooms.updateOne(
    {
     "_id": ObjectId("62455ea400215a13d32151f6")
    },
    { $set:
      {
        "name": "è±ªè¯å–®äººæˆ¿é™å®šç‰ˆ",
        "rating": 4.3
      }
    }
)
{ "acknowledged" : true, "matchedCount" : 1, "modifiedCount" : 1 }
```

- æ‰¾åˆ°ä¸¦ä¸”ä¿®æ”¹ä¸€ç­†æˆåŠŸ

```bash
> db.rooms.updateMany(
    {
     "rating": 4.3
    },
    { $set:
      {
        "rating": 4.0
      }
    }
)

{ "acknowledged" : true, "matchedCount" : 2, "modifiedCount" : 2 }
```

- æ‰¾åˆ°ä¸¦ä¸”ä¿®æ”¹å…©ç­†æˆåŠŸ

- replaceOne() æœƒå–ä»£æ•´å€‹è³‡æ–™çµæ§‹ï¼Œä¸ç”¨å¯«$set

```bash
> db.rooms.replaceOne(
  {
   "name": "æ¨™æº–å–®äººæˆ¿"
  },
  {
    "name": "æ¨™æº–å–®äººæˆ¿å‡ç´šç‰ˆ"
  }
)

{ "acknowledged" : true, "matchedCount" : 1, "modifiedCount" : 1 }
```

![](/img/docs/mongodb/mongodb-3/2022-03-31_3.png)

- é™¤äº† name ä»¥å¤–å…¶ä»–å±¬æ€§éƒ½æ²’äº†

---

### åˆªé™¤

- [db.collection.deleteOne()](https://www.mongodb.com/docs/manual/reference/method/db.collection.deleteOne/#mongodb-method-db.collection.deleteOne)
- [db.collection.deleteMany()](https://www.mongodb.com/docs/manual/reference/method/db.collection.deleteMany/#mongodb-method-db.collection.deleteMany)

- åˆªé™¤ä¸€ç­†

```bash
> db.rooms.deleteOne(
  {
   "_id": ObjectId("62455ea400215a13d32151f7")
  }
)

{ "acknowledged" : true, "deletedCount" : 1 }
```

- åˆªé™¤å¤šç­†

```bash
> db.rooms.deleteMany(
  {
   "rating": 4
  }
)

{ "acknowledged" : true, "deletedCount" : 2 }
```

---

### ç·´ç¿’ç”¨ JSON

```bash
[
    {
        "rating": 4.5,
        "price": 1000,
        "name": "æ¨™æº–å–®äººæˆ¿",
        "payment":["ä¿¡ç”¨å¡","ATM"]
    },
    {
        "rating": 4.3,
        "price": 1500,
        "name": "è±ªè¯å–®äººæˆ¿",
        "payment":["ä¿¡ç”¨å¡","ATM"]
    },
    {
        "rating": 4.8,
        "price": 2000,
        "name": "æ¨™æº–é›™äººæˆ¿",
        "payment":["ä¿¡ç”¨å¡","ATM"]
    },
    {
        "rating": 4.7,
        "price": 2500,
        "name": "è±ªè¯é›™äººæˆ¿",
        "payment":["ATM"]
    },
    {
        "rating": 4.0,
        "price": 3000,
        "name": "æ¨™æº–å››äººæˆ¿",
        "payment":["ç¾é‡‘"]
    },
    {
        "rating": 3.5,
        "price": 10000,
        "name": "ç¸½çµ±å¥—æˆ¿",
        "payment":["ç¾é‡‘"]
    }
]
```

---

### MongoDB ç›¸é—œæ–‡ç« ï¼š

- <a href="/docs/mongodb/mongodb-1">MongoDB å­¸ç¿’ç­†è¨˜ - å®‰è£å•Ÿå‹•èˆ‡ GUI è»Ÿé«”</a><br/>
- <a href="/docs/mongodb/mongodb-2/">MongoDB å­¸ç¿’ç­†è¨˜ - è¨»å†Šå¸³è™Ÿï¼Œä¸¦ç”³è«‹ MongoDB Atlas é›²ç«¯ä¸»æ©Ÿæœå‹™æµç¨‹</a><br/>
- <a href="/docs/mongodb/mongodb-3/">MongoDB å­¸ç¿’ç­†è¨˜ - MongoDB Shell CRUD èªæ³•</a><br/>
- <a href="/docs/mongodb/mongodb-4">MongoDB å­¸ç¿’ç­†è¨˜ - MongoDB Shell - æœå°‹èªæ³•</a><br/>
